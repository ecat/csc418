\documentclass[a4paper,10pt]{scrartcl}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{algorithm}
\usepackage{algpseudocode}
%opening
\title{CSC418 Assignment 1}
\author{Philip Lee - 9999074932}
\setlength{\parindent}{0cm}
\begin{document}

\maketitle


\section{Parametric Equations}
$x(t) = 4\cos{2\pi t} + 1/16 * \cos{32\pi t} \\ y(t) = 2\sin{2\pi t} + 1/16 * \sin{32\pi t}$

\subsection{}

The tangent vector is given by $p(t) = <\frac{dx}{dt}, \frac{dy}{dt}>$\\
$ p(t) = <-8\pi\sin{2\pi t} - 2\pi\sin{32\pi t}$ , $ 4\pi\cos{2\pi t} + 2\pi\cos{32\pi t}>$

\subsection{}

The normal vector $n(t)$ will satisfy $p(t) \cdot n(t) = 0$ so therefore $n(t) = <- \frac{dy}{dt}, \frac{dx}{dt}>$
$ n(t) =  < - 4\pi\cos{2\pi t} - 2\pi\cos{32\pi t}$, $-8\pi\sin{2\pi t} - 2\pi\sin{32\pi t}>$

\subsection{}

{\bfseries The curve is not symmetric about the y axis.}\\

{\bfseries Counter Example:}\\

If we evaluate at $t = 1/8$,  $<x(1/8), y(1/8)> = <4/\sqrt{2} + 1/16, 2/\sqrt{2}>$\\
For the curve to be symmetric about the y axis and by the definition of symmetry,
there must exist a value of $t_o$ such that
\[<x(t_o), y(t_o)> = <-(4/\sqrt{2} + 1/16), 2/\sqrt{2}>\]

It turns out that $y(t_o) = 2/\sqrt{2}$ only for $t_o = 1/8, 3/8$ \\\\
The presence of only two solutions for $t_o$ can be justified by inspecting
the plots of $f(t) = 2/\sqrt{2} - 1/16\sin{32\pi t}$ and $g(t) = 2\sin{2\pi t}$

Evaluating $x$ at $t_o$ gives $x(3/8) = -4\sqrt{2} + 1/16$ \\

Since $x(3/8) \neq -x(1/8)$ and $y(3/8) = y(1/8)$ the curve is not symmetric about the y axis because. There is a point on the curve that
cannot be reflected about the y-axis.\\\\


{\bfseries The curve is symmetric about the x axis.}\\

{\bfseries Proof:}\\

For every value of $t_o$, there must exist a value $t_1$ such that  
\[ <x(t_o), y(t_o)> = <x(t_1), -y(t_1)>\]

To demonstrate this, let us consider the parametric function on the interval of \\$-1/2 < t < 1/2$\\

Recall that an odd function has the property that $f(t) = -f(-t)$ and that an even
function has the property $f(t) = f(-t)$. Also, the sum of two even functions is even, and the sum of
two odd functions is also odd.\\

Since $x(t)$ is the sum of two cosines which are even functions, $x(t)$ is even about $t = 0$.
Since $y(t)$ is the sum of two sines which are odd functions, $y(t)$ is odd about $t = 0$.\\

Consider an arbitrary $t_o$ in the range $0 < t_o < 0.5$. Since $x(t)$ is an even function, $x(t_o) = x(-t_o)$.
Since $y(t)$ is an odd function, $y(t_o) = -y(-t_o)$. \\

Thus for any given $t_o, 0 < t_o < 0.5$, choosing $t_1 = -t_o$ satisfies the condition for symmetry about the y axis.

\[ <x(t_o), y(t_o)> = <x(t_1), y(t_1)>\]\\
\[ = <x(-t_o), y(-t_o)>\]\\
Which by the even and odd properties of the functions $x(t), y(t)$ \\ 
\[ = <x(t_o), -y(t_o)>\]\\

Since the range of $t$ covers the entire curve, this implies that the curve is symmetric about the x-axis.
\subsection{}

The formula to compute the curve's perimeter is given by

\[ L = \int_{a}^{b} \sqrt{\left( \frac{dx}{dt}\right)^2 + \left( \frac{dy}{dt}\right)^2}dt\]

The limits must be over one complete period. Since $x(t)$ has period $1$ and $y(t)$ has period $1$ the limits of the integral can be $a=0$ and $b=1$

Taking the derivatives from $p(t)$, we get

\[ L = \int_{0}^{1} \sqrt{\left( -8\pi\sin{2\pi t} - 2\pi\sin{32\pi t} \right)^2 + \left( 4\pi\cos{2\pi t} + 2\pi\cos{32\pi t}\right)^2}dt\]

This integral is pretty tedious to solve analytically.

\subsection{}

The perimeter can be piecewise approximated by dividing the curve into even segments,
and finding the sum of the lengths of each segment which is a straight line. The smaller the segments,
the more accurate the approximation will be.\\

For example, we know that the curve exists for the interval $0 < t < 1$. Divide the curve into $k$ segments where $k$ is an integer greater than 0.
Then evaluate $p(t)$ at $t = nT$, where $n = 0,1,2 \ldots k-1$ and $T = 1/k$. Then find the cartesian distance between
$p(nT)$ and $p((n+1)T)$ for all $n$ and take the sum. Thus the final formula becomes:\\
\[
\sum_{n=0}^{k-1}
  ||\,p(nT) - p((n+1)T)||,\,\] where $k$ is the number of piecewise segments and $T = 1/k$

\section{Intersections of a 2D Line And Circle}

\section{Do Transforms Commute?}

\subsection{Translation and Uniform Scaling}

The translation and uniform scaling transforms do not commute in general.

Consider the transformation matrix \\

$T = 
\begin{bmatrix}
    1       & 0 & t_x \\
    0       & 1 & t_y \\
    0       & 0 & 1 
\end{bmatrix}
$, where $t_x $ and $t_y$ are the translations in the $x$ and $y$ direction. \\

and the uniform scaling matrix \\

$S_{Uniform} = \begin{bmatrix}
    s       & 0 & 0 \\
    0       & s & 0 \\
    0       & 0 & 1     
 \end{bmatrix}
$, where $s$ is the scaling factor. \\

Scaling first then translating. Multiplying the two matrices $T$ and $S$ gives: \\

$T \bullet S_{Uniform} = \begin{bmatrix}
		  s & 0 & t_x \\
		  0 & s & t_y \\
		  0 & 0 & 1
               \end{bmatrix}
$ \\

Translating first then scaling gives: \\

$S_{Uniform} \bullet T = \begin{bmatrix}
		  s & 0 & st_x \\
		  0 & s & st_y \\
		  0 & 0 & 1
               \end{bmatrix}
$ \\ 

These transformations matrices are not the same for $s \neq 1$ and thus the transforms do not commute. \\ 

{\bfseries{Example:}}

Consider the point $P_o = \begin{bmatrix} 1 \\ 1 \end{bmatrix}$, a transformation of $t_x = -1$ and $t_y = -1$ and a scaling $s = 2$\\
Applying the translation first gives $P_{1a} = \begin{bmatrix} 0 \\ 0 \end{bmatrix}$ \\ 
Appling scaling second gives $P_{1b} = \begin{bmatrix} 0 \\ 0 \end{bmatrix}$

Reversing the order of the transforms:

Applying scaling first gives $P_{2a} = \begin{bmatrix} 2 \\ 2 \end{bmatrix}$ \\
Applying translation second gives  $P_{2b} = \begin{bmatrix} 1 \\ 1 \end{bmatrix}$ \\

$P_{2b} \neq P_{2a}$

\subsection{Translation and Non-Uniform Scaling}


The translation and non-uniform scaling transforms do not commute in general.

Consider the transformation matrix \\

$T = 
\begin{bmatrix}
    1       & 0 & t_x \\
    0       & 1 & t_y \\
    0       & 0 & 1 
\end{bmatrix}
$, where $t_x $ and $t_y$ are the translations in the $x$ and $y$ direction. \\

and the non-uniform scaling matrix \\

$S_{Non\_Uniform} = \begin{bmatrix}
    s_x       & 0 & 0 \\
    0       & s_y & 0 \\
    0       & 0 & 1     
 \end{bmatrix}
$, where $s_x$ and $s_y$ are the scaling factors. \\

Scaling first then translating. Multiplying the two matrices $T$ and $S_{Non\_Uniform}$ gives: \\

$T \bullet S_{Non\_Uniform} = \begin{bmatrix}
		  s_x & 0 & t_x \\
		  0 & s_y & t_y \\
		  0 & 0 & 1
               \end{bmatrix}
$ \\

Reversing the order of the transformation gives: \\

$S_{Non\_Uniform} \bullet T = \begin{bmatrix}
		  s_x & 0 & s_xt_x \\
		  0 & s_y & s_yt_y \\
		  0 & 0 & 1
               \end{bmatrix}
$ \\ 

These transformations matrices are not the same for $s_x \neq 1$ and $s_y \neq 1$ and thus the transforms do not commute.

\subsection{Rotation and Scaling}

Consider a rotation and scaling about the same fixed point about the origin. This transformation commutes for uniform scaling where $s_x = s_y$. Otherwise the transformation does not commute.\\

{\bfseries Proof:}

The scaling matrix is given by \\

$S_{Non\_Uniform} = \begin{bmatrix}
    s_x       & 0 & 0 \\
    0       & s_y & 0 \\
    0       & 0 & 1     
 \end{bmatrix}
$, where $s_x$ and $s_y$ are the scaling factors. \\

The rotation matrix is given by \\

$R = \begin{bmatrix}
      \cos{\theta}       & -\sin{\theta} & 0 \\
      \sin{\theta}       & \cos{\theta} & 0 \\
      0       & 0 & 1             
     \end{bmatrix}
$   , where $\theta$ is the rotation

Doing a scale followed by a rotation gives: \\

$R \bullet S_{Non\_Uniform} = \begin{bmatrix}
		  s_x\cos{\theta} & -s_y\sin{\theta} & 0 \\
		  s_x\sin{\theta} & s_y\cos{\theta} & 0 \\
		  0 & 0 & 1
               \end{bmatrix}
$ \\


Doing a rotation followed by a scale gives: \\

$S_{Non\_Uniform} \bullet R = \begin{bmatrix}
		  s_x\cos{\theta} & -s_x\sin{\theta} & 0 \\
		  s_y\sin{\theta} & s_y\cos{\theta} & 0 \\
		  0 & 0 & 1
               \end{bmatrix}
$ \\

These transformation matrices are equivalent only if $s_x = s_y$. Thus this transform does not commute in general.

\subsection{Rotation and Scaling About Different Fixed Points}

The transformations of rotation and scaling about different fixed points do not commute. As a counter example, consider 
the point $P_o = \begin{bmatrix} 1 \\ 1 \end{bmatrix}$, a scaling of $s_x = 1$ and $s_y = 2$ about the origin
$\begin{bmatrix} 0 \\ 0\end{bmatrix}$, and a rotation of $90^o$ counter-clockwise about the point $P_r = \begin{bmatrix} 0 \\ 1\end{bmatrix}$\\

First consider the case of rotating followed by scaling.\\
If we first rotate $P_o$ about $P_r$, we get $P_{1a} = \begin{bmatrix} 0 \\ 2 \end{bmatrix}$\\
If we then scale with respect to the origin we get $P_{1b} = \begin{bmatrix} 0 \\ 4\end{bmatrix}$


Now consider the case of scaling followed by rotating.\\
Scaling $P_o$ with respect to the origin, we get $P_{2a} = \begin{bmatrix} 2 \\ 1\end{bmatrix}$\\
Then rotating about $P_r$, we get $P_{2b} = \begin{bmatrix} 0 \\ 3\end{bmatrix}$\\

Since $P_{2b} \neq P_{1b}$ the two transforms do not commute.

\subsection{Translate and Sh}

The transformations of translating and shear do not commute.

Consider the transformation matrix \\

$T = 
\begin{bmatrix}
    1       & 0 & t_x \\
    0       & 1 & t_y \\
    0       & 0 & 1 
\end{bmatrix}
$, where $t_x $ and $t_y$ are the translations in the $x$ and $y$ direction. \\

and the shear matrix \\

$S_{Shear} = \begin{bmatrix}
    1       & s_y & 0 \\
    s_x       & 1 & 0 \\
    0       & 0 & 1     
 \end{bmatrix}
$, where $s_x, s_y$ is the shear factor. \\

Shearing first then translating. Multiplying the two matrices $T$ and $S$ gives: \\

$T \bullet S_{Shear} = \begin{bmatrix}
		  1 & s_y & t_x \\
		  s_x & 1 & t_y \\
		  0 & 0 & 1
               \end{bmatrix}
$ \\

If however, we apply the translation matrix first followed by the shear matrix gives:

$S_{Shear} \bullet T = \begin{bmatrix}
		  1 & s_y & s_xt_x \\
		  s_x & 1 & s_yt_y \\
		  0 & 0 & 1
               \end{bmatrix}
$ \\

These transformations matrices are not the same for $s_x, s_y \neq 1$ and thus the transforms do not commute. \\ 


{\bfseries{Example:}}

Consider the point $P_o = \begin{bmatrix} 1 \\ 1 \end{bmatrix}$, a transformation of $t_x = -1$ and $t_y = -1$ and a shear of $s_x = 2, s_y = 3$\\
Applying the translation first gives $P_{1a} = \begin{bmatrix} 0 \\ 0 \end{bmatrix}$ \\ 
Appling shear second gives $P_{1b} = \begin{bmatrix} 0 \\ 0 \end{bmatrix}$

Reversing the order of the transforms:

Applying shear first gives $P_{2a} = \begin{bmatrix} 4 \\ 3 \end{bmatrix}$ \\
Applying translation second gives  $P_{2b} = \begin{bmatrix} 3 \\ 2 \end{bmatrix}$ \\

$P_{2b} \neq P_{1b}$ so the transforms do not commute.

\section{Triangles}

\subsection{Is point q inside or outside triangle}

Recall that in Bresenham's line algorithm, a point can be determined to be above or below a parametrized straight line.

\begin{algorithm}
  \caption{Is Point Above or Below Line}\label{}
  
  \begin{algorithmic}
    \Function{F}{Point $p$, Parametrized Line}
    \State{$x \gets p_x, y \gets p_y$}
    \State{$f(x,y) = (xdy - ydx) \gets $ Parametrized Line}\\
    \If{$f(x,y) < 0$}
    \State Point above line
    \ElsIf{$f(x,y) > 0$}
    \State   Point below line
    \Else 
    \State Point on line
    \EndIf\\
    \EndFunction
    
  \end{algorithmic}
\end{algorithm}

   
\begin{algorithm}
  \caption{Point Inside or Outside Triangle}\label{}
  \begin{algorithmic}
    \State Given vertices of triangle $\bar v_1, \bar v_2, \bar v_3$
    \State Given point $\bar q$
    \State Parametrize the lines between $\bar v_1, \bar v_2$ and $\bar v_1, \bar v_3$ and $\bar v_2, \bar v_3$
    \State Count $\gets 0$
    \For{Each parametrized line $l$}
      \State Check if point $\bar q$ lies above or below $l$ using Algorithm 1
      \State To determine if that point lies on the 'inside' of the triangle, check that the result
      for point $\bar q$ matches the result for the point not used to parametrize the line i.e. if
      $\bar v_1$ and $\bar v_2$ were used to parametrize the line, check whether $\bar v_3$ lies above or below
      \If{Signs match}
	\State Count$++$
      \EndIf
    \EndFor
    
    \If{Count $== 3$}
      \State Point lies in triangle.
    \Else
      \State Point lies outside triangle.
    \EndIf  
  \end{algorithmic}
\end{algorithm}

\subsection{Is point q on edge of triangle}

To determine if a point is on the edge of a triangle, perform a check similar to the previous part, but use
the fact that if Algorithm 1 evaluates to $0$, the point is on the line.


\begin{algorithm}
  \caption{Point Inside or Edge of Triangle}\label{}
  \begin{algorithmic}
    \State Given vertices of triangle $\bar v_1, \bar v_2, \bar v_3$
    \State Given point $\bar q$
    \State Parametrize the lines between $\bar v_1, \bar v_2$ and $\bar v_1, \bar v_3$ and $\bar v_2, \bar v_3$
    \State Count $\gets 0$
    \State PointOnLine $\gets False$
    \For{Each parametrized line $l$}
      \State Check if point $\bar q$ lies above or below $l$ using Algorithm 1
      \State To determine if that point lies on the 'inside' of the triangle, check that the result
      for point $\bar q$ matches the result for the point not used to parametrize the line i.e. if
      $\bar v_1$ and $\bar v_2$ were used to parametrize the line, check whether $\bar v_3$ lies above or below
      \\
      {\bfseries
      \State If Algorithm 1 returns a 0, that does not necessarily mean that $\bar q$ lies on the edge. It simply means
      that $\bar q$ lies on the parametrized line. For the line to be on the edge of the triangle,
      $\bar q$ must lie on the 'correct' side of the triangle, by checking if the signs match in the same manner
      as Algorithm 2}
      \Comment{Modifaction from prior part}
      \\
      \If{Signs match}
	\State Count$++$
      \EndIf
      
      \If{\Call{F}{$\bar q$, $l$} ==  Point On Line}
	\State PointOnLine $\gets True$
      \EndIf
    \EndFor
    
    \
    \If{Count $== 2 $ \&\& PointOnLine $==$ True}
      \State Point lies on edge of triangle.
    \Else
      \State Point lies inside or outside triangle.
    \EndIf  
  \end{algorithmic}
\end{algorithm}

\end{document}
